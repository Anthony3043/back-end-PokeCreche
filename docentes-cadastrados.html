<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Docentes Cadastrados</title>
  <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
  <header class="ion-header" role="banner">
    <div class="ion-toolbar">
      <div class="ion-title">Docentes Cadastrados</div>
    </div>
  </header>

  <main class="ion-content background-content">
    <div id="container">
      <div class="balao-principal">
        <h1>Docentes Cadastrados</h1>

        <div class="balao-interno">
          <div id="lista-docentes">
            <p>Carregando docentes...</p>
          </div>
          <button type="button" class="btn-submit" onclick="location.href='docentes.html'">Voltar ao Cadastro</button>
        </div>
      </div>
    </div>
  </main>

  <script>
    const baseUrl = 'https://back-end-pokecreche-production.up.railway.app';
    
    async function carregarDocentes() {
      try {
        const res = await fetch(baseUrl + '/docentes');
        const docentes = await res.json();
        
        const lista = document.getElementById('lista-docentes');
        if (docentes.length === 0) {
          lista.innerHTML = '<p>Nenhum docente cadastrado.</p>';
        } else {
          lista.innerHTML = docentes.map(docente => 
            `<div class="item-lista">
              <strong>ID:</strong> ${docente.id}<br>
              <strong>Nome:</strong> ${docente.nome}<br>
              <strong>Senha:</strong> ${docente.senha}
            </div>`
          ).join('');
        }
      } catch (err) {
        document.getElementById('lista-docentes').innerHTML = '<p>Erro ao carregar docentes.</p>';
      }
    }

    carregarDocentes();
  </script>
</body>
</html>